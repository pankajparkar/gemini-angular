"use strict";(self.webpackChunkgemini_angular=self.webpackChunkgemini_angular||[]).push([[184],{3184:(O,_,n)=>{n.r(_),n.d(_,{GeminiProChatComponent:()=>C});var m=n(467),e=n(4438),r=n(4350),l=n(5312),g=n(697),u=n(3819);const h=[{content:"Hi there!",isUser:!0},{content:"Great to meet you. What would you like to know?!",isUser:!1}];function d(a){return a.map(c=>({role:c.isUser?"user":"model",parts:[{text:c.content}]}))}const M=new r.ij(l.c.API_KEY).getGenerativeModel({model:"gemini-1.5-pro",safetySettings:[{category:r.DE.HARM_CATEGORY_HARASSMENT,threshold:r.vk.BLOCK_ONLY_HIGH}],maxOutputTokens:100});let C=(()=>{class a{constructor(){this.messages=(0,e.vPA)(h),this.markdown=(0,e.WQX)(u.R)}enter(t){this.updateMessage(t),this.sendMessage(t)}updateMessage(t,s=!0){t&&this.messages.set([...this.messages(),{content:t,isUser:s}])}sendMessage(t){var s=this;return(0,m.A)(function*(){const o=yield(yield M.startChat({history:d(s.messages()),generationConfig:{maxOutputTokens:100}}).sendMessage(t)).response;console.log(o.candidates?.[0].content.parts[0].text),console.log(o.text()),s.updateMessage(o.text(),!1)})()}static#e=this.\u0275fac=function(s){return new(s||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["ga-gemini-pro-chat"]],standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[[3,"send","messages"]],template:function(s,i){1&s&&(e.j41(0,"h5"),e.EFF(1,"Multi-turn conversations (chat)"),e.k0s(),e.j41(2,"ga-chat",0),e.bIt("send",function(o){return i.enter(o)}),e.k0s()),2&s&&(e.R7$(2),e.Y8G("messages",i.messages()))},dependencies:[g.K]})}return a})()}}]);